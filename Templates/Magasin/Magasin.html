{% extends "Partials/Base.html" %}
{% block body %}
    <section class="magasin">
        <div id="container">
            <div class="container-magasin">
                {% with messages=get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="alert alert-{{category}}" id="flash-message-secces"> {{message}} </div>
                        {%endfor%}
                    {%endif%}
                {% endwith %}
                <div class="ajoute"><a href="/Ajouter_magasin/"><button type="button" class="btn btn-success btn-lg">Ajouter</button></a></div>
                <div class="title4"><h4>Liste des Magasin</h4></div>
                <div class="table-responsive">
                    <table class=" tableau">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Nom</th>
                                <th>Adresse</th>
                                <th>Téléphone</th>
                                <th>Mail</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        
                    <tbody>

                        {% for list in list %}
                        
                            <tr>
                                <td>{{list.IdMagasin}}</td>
                                <td>{{list.NomMagasin}}</td>
                                <td>{{list.AdresseMagasin}}</td>
                                <td>{{list.Telephone}}</td>
                                <td>{{list.Mail}}</td>
                                <td class="editer">
                                    
                                    <a href="/Modifier_magasin/{{list.IdMagasin}}">Modifier</a>
                                    <a href="/Supprimer_magasin/{{list.IdMagasin}}">Supprimer</a>
                                    
                                </td>
                            </tr>
                        {%endfor%}
                        <!-- <tr>
                            <td>1</td>
                            <td>Magasin 1</td>
                            <td>Adresse 1</td>
                            <td>Téléphone 1</td>
                            <td>E-Mail 1</td>
                            <td class="editer">
                               
                                    <a href="/Modifier/">Modifier</a>
                                    <a href="/Supprimer/">Supprimer</a>
                                
                            </td>
                        </tr> -->
                    </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Ajoutez le script JavaScript pour gérer la disparition du message -->
        <script>
            // Sélectionnez l'élément contenant le message flash
            const flashMessage = document.getElementById('flash-message-secces');
            
            // Définissez un délai (en millisecondes) avant que le message ne disparaisse
            const delay = 15000; // 15 secondes
            
            // Utilisez setTimeout pour masquer le message après le délai
            setTimeout(function() {
                flashMessage.style.display = 'none';
            }, delay);
        </script>
</section>      
{% endblock %}
            
       